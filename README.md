\# Latest Obs



Latest Weather Observations from the Australian Bureau of Meteorology (BOM) weather stations 72 hour historical data.

&nbsp; 

!\[Screenshot](https://harrishudson.com/github/LatestObs\_snapshot1.jpg)



\## Overview and Background

This repo is largely intended for an Australian audience. The BOM provides 72 hour historical weather station observation data available on their public facing anonymous ftp service.  This is broken down on a file basis approximately representing the states of Australia (although some observation files contain multiple states - eg; ACT is within the NSW data file, and Antarctica is within TAS, etc).  This data is typically updated on a half hour basis by BOM.  Whilst the BOM ftp data is quite comprehensive, and extends back to 72 hours of prior historical observations for each weather station, this repo concerns a small summary of the very latest station weather observation data on a per station basis.  The data relayed here for each station is the latest; \*air temperature\*, \*apparent temperature\*, \*wind\* and \*gust\*, and \*rain since 9am\* info.  But again, much more extensive data is available with minimal modifications to this repo.  For more information about the BOM anonymous ftp service, please refer to their publication; \[https://reg.bom.gov.au/catalogue/72\_hr\_historical\_obs.pdf](https://reg.bom.gov.au/catalogue/72\_hr\_historical\_obs.pdf)



\## Demo



Due to the BOM usage conditions regarding their live data, a live public demo is not permitted under their terms of use.  Instead you will need to download this repo and run in your own environment



\## Requirements



To run this repo, you will need a webserver that can support \*\*php\*\* files



\## Deployment instructions



Create a directory on your webserver, download and extract this repo to that subdirectory.  The \*\*cache\*\* directory is to contain temporary cached data files from the BOM.  The \*\*cache\*\* directory does not need to be web accessible.  If you are using Apache, consider copying the provided \*\*dot\_htaccess\*\* to \*\*.htaccess\*\* to prevent web access.  If you are not using Apache, you may need to do something similar to rules contained within the \*\*dot\_htaccess\*\* to prevent web access to the \*\*cache\*\* subdirectory



\## Usage



\### index.htm



Entry point to this demo site



\### latest\_obs.htm



Will display a map of the latest weather station observations



\### file\_timestamps.php



Will display a html table of the latest anonymous ftp file timestamps on the BOM ftp server.  Note that these files are typically updated on a half hourly basis.



\### latest\_obs.php



This generates a GeoJSON payload of the latest observations of the BOM weather station information for data obtained from the public BOM ftp server.  This is used by the latest\_obs.htm map page.  As described above, this is for a subset of the very latest weather station observations. In order to prevent potentially flooding the BOM ftp server with many requests, this script has a multi layered caching strategy inbuilt.  If you invoke this script directly, the usage is described as below.  This script has 2 optional GET parameters; \*state\* and \*wmo\_id\*.



Eg;



* latest\_obs.php - \*Invoked with no parameters will download the latest weather station information as GeoJSON for all data files (states)\*



* latest\_obs.php?state=IDN60910 - \*Will download data for this particular state data file (NSW \& ACT)\*.



* latest\_obs.php?state=NSW - \*Will download data for this particular state abbreviation data file.  Note that some states encompass other states as per the data made available from BOM.  Eg, ACT is the same as NSW (as ACT weather stations are within the NSW data file).  Same as per Antarctica which is within the TAS data file\*.



* latest\_obs.php?state=NSW\&wmo\_id=94927 - \*Will download data only for the weather station 94927 (Braidwood NSW) from within the NSW data file\*.



* latest\_obs.php?wmo\_id=94927 - \*Will download data only for the international weather station id 94927 (Braidwood NSW) but will search all data files for this weather station data.  Note that this way of invocation is generally inefficient as it will search all available data files for this particular weather station.  If you know which file (state) your weather station falls within, you should also provide the \*\*state\*\* parameter to optimise efficiency\*.



\## Author \& Attribution

Author Harris Hudson.  As an experiment, the .php and .htm files on this repo were completely generated by the author using AI using multiple, iterative and refined prompts.  The .php and .htm files were not manually edited after AI generation.  

&nbsp;

\## Contributing

Pull Requests are not currently being accepted.  If you would like to request a change, or find a bug, please raise an issue.  

&nbsp;

\## Sponsor \& Donate

Did you find this repo useful to you?  You can make a donation here; \[https://harrishudson.com/#sponsor](https://harrishudson.com/#sponsor)

